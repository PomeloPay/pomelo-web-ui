import{r as t,c as i,h as o,H as s,g as n}from"./p-5f21a674.js";import{i as e}from"./p-6a284815.js";const h=(t="auto")=>`\n  :host([open]) {\n    overflow-y: ${t};\n  }\n`,l=class{constructor(o){t(this,o),this.modalOpen=i(this,"modalOpen",7),this.modalClose=i(this,"modalClose",7),this.modalLoad=i(this,"modalLoad",7),this.backdropClick=i(this,"backdropClick",7),this.open=!1,this.centered=!1,this.fit=!1,this.lockScroll=!1,this.portal=null,this.originalParent=null,this.backdrop=null,this.shadowStyle=document.createElement("style"),this.centerConfigObserver=null,this.styleConfigObserver=null,this.handleBackdropClick=t=>{this.backdropClick.emit(t)}}configureStyle(){this.shadowStyle.innerHTML=h("hidden"),this.$el.shadowRoot.appendChild(this.shadowStyle);const t=this.$el.querySelector('[slot="pp-dialog"]');t&&(null==t?void 0:t.firstChild)&&(this.styleConfigObserver=new e((t=>{const[i]=t;this.shadowStyle.innerHTML=i.contentRect.height>window.innerHeight?h("auto"):h("hidden")})),this.styleConfigObserver.observe(null==t?void 0:t.firstElementChild))}configureBackdrop(){this.backdrop=document.createElement("div"),this.backdrop.classList.add("pp-backdrop"),this.$el.insertAdjacentElement("beforebegin",this.backdrop),this.backdrop.setAttribute("class","pp-modal-backdrop hidden"),this.open&&this.backdrop.classList.remove("hidden"),this.backdrop.addEventListener("click",this.handleBackdropClick)}configureCenterPosition(){if(!this.centered)return;const t=this.$el.querySelector('[slot="pp-dialog"]');t&&(null==t?void 0:t.firstChild)&&(this.centerConfigObserver=new e((i=>{const[o]=i;o.contentRect.height>window.innerHeight?t.classList.remove("pp-modal-centered"):t.classList.add("pp-modal-centered")})),this.centerConfigObserver.observe(null==t?void 0:t.firstElementChild))}connectedCallback(){this.configureStyle(),this.configureBackdrop(),this.configureCenterPosition()}disconnectedCallback(){var t,i;this.backdrop.removeEventListener("click",this.handleBackdropClick),this.backdrop.parentNode.removeChild(this.backdrop),"function"==typeof(null===(t=this.centerConfigObserver)||void 0===t?void 0:t.disconnect)&&(null===(i=this.centerConfigObserver)||void 0===i||i.disconnect()),"function"==typeof this.styleConfigObserver.disconnect&&this.styleConfigObserver.disconnect()}componentWillLoad(){this.originalParent=this.$el.parentElement,"boolean"==typeof this.portal&&this.portal&&(this.portal=document.body),this.portal&&this.portal.appendChild(this.$el),this.modalLoad.emit({originalParent:this.originalParent,portal:this.portal,modalEl:this.$el})}watchOpenHandler(t){t?(this.lockScroll&&document.body.classList.add("pp-modal-lock-scroll"),this.backdrop.classList.remove("hidden"),this.modalOpen.emit(this.$el)):(this.lockScroll&&document.body.classList.remove("pp-modal-lock-scroll"),this.backdrop.classList.add("hidden"),this.modalClose.emit(this.$el))}render(){return o(s,null,o("slot",{name:"pp-dialog"}))}get $el(){return n(this)}static get watchers(){return{open:["watchOpenHandler"]}}};l.style=":host{width:auto;position:fixed;opacity:0;top:0;right:0;bottom:0;left:0;display:none;outline:0;z-index:40}:host([open]){display:block;opacity:1}::slotted(.pp-dialog){display:block;position:relative;max-height:100vh;transition-property:all;transition-duration:75ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}:host([fit][open]){display:flex;flex-direction:column;align-items:center}@media (min-width: 480px){:host([open]){display:block;overflow-x:hidden}::slotted(.pp-dialog){margin:2rem auto;max-width:none;max-width:var(--pp-modal-max-width, none);max-height:none;box-shadow:none;border-radius:0.375rem}::slotted(.pp-modal-centered){min-height:calc(100% - (1.75rem * 2));display:flex;align-items:center;flex-direction:column;justify-content:center}}@media screen and (max-width: 480px){:host([fit][open]){justify-content:flex-end}}";export{l as pp_modal}